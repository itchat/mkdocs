
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Your attitude, not your aptitude, will determine your altitude.">
      
      
        <meta name="author" content="ronin">
      
      
        <link rel="canonical" href="https://execution.icu/cs/network/w5/">
      
      
        <link rel="prev" href="../w4/">
      
      
        <link rel="next" href="../w6/">
      
      
      <link rel="icon" href="../../../assets/icon.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>5.0 Network Layer - Ronin's Notes</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#50-network-layer" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="Ronin&#39;s Notes" class="md-header__button md-logo" aria-label="Ronin's Notes" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ronin's Notes
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              5.0 Network Layer
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../arts/wukong/" class="md-tabs__link">
          
  
  
  Arts

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../tools/gfw/" class="md-tabs__link">
          
  
  
  Tools

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../python/flask/1.0/" class="md-tabs__link">
          
  
  
  Computer Science

        </a>
      </li>
    
  

    
  

    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../handbook/telegram/" class="md-tabs__link">
          
  
  
  Handbooks

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../cyber/networkattack/" class="md-tabs__link">
          
  
  
  Cybersecurity

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Ronin&#39;s Notes" class="md-nav__button md-logo" aria-label="Ronin's Notes" data-md-component="logo">
      
  <img src="../../../assets/logo.svg" alt="logo">

    </a>
    Ronin's Notes
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Arts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Arts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Wukong
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Wukong
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../arts/wukong/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    西游
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/gfw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Great Firewall
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/ffmpeg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FFMPEG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/wine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    macOS Virtual Machine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tools/searxng/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dify + Searxng Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Computer Science
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1_1" id="__nav_4_1_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Flask
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_1">
            <span class="md-nav__icon md-icon"></span>
            Flask
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/flask/1.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Java
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Java
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_1" >
        
          
          <label class="md-nav__link" for="__nav_4_2_1" id="__nav_4_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Basics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/concept/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Open Book Exam
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/2024.s1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024.S1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/t1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 T1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/t2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 T2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/w4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 Loop
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/w5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 Class
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/w6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 Inheritance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/w7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 More, Packages
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/w8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8.0 Exceptions, Interfaces
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/w9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9.0 Enums, Generic, SOLID
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../java/basics/w10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10.0 Thread, Lambda
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" checked>
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Networks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Networks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_1" checked>
        
          
          <label class="md-nav__link" for="__nav_4_3_1" id="__nav_4_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    3002
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_3_1">
            <span class="md-nav__icon md-icon"></span>
            3002
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 OSI and TCP/IP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 Physical Layer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 Data Link Layer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 Wireless Networking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    5.0 Network Layer
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    5.0 Network Layer
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#layer-comparison-and-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      Layer Comparison and Relationships
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layer Comparison and Relationships">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#service-characteristics-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Service Characteristics Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address-structure-and-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Address Structure and Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-addresses" class="md-nav__link">
    <span class="md-ellipsis">
      Special Addresses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subnetting-example-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      Subnetting Example Calculation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subnet-mask-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Subnet Mask Formats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv4-header-field-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      IPv4 Header Field Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-header-fields-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Key Header Fields Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragmentation-control-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Fragmentation Control Fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragmentation-example" class="md-nav__link">
    <span class="md-ellipsis">
      Fragmentation Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragmentation-vs-reassembly-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Fragmentation vs. Reassembly Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forwarding-vs-routing-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Forwarding vs. Routing Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-forwarding-table" class="md-nav__link">
    <span class="md-ellipsis">
      Example Forwarding Table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concept-integration-and-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      Concept Integration and Relationships
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Concept Integration and Relationships">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network-layer-process-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Network Layer Process Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-calculation-types" class="md-nav__link">
    <span class="md-ellipsis">
      Common Calculation Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 Transport Layer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 Presentation Layers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8.0 Client and Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9.0 Internet Measurement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10.0 Exam Samples
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../w11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11.0 Past Exam Questions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    MERN
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            MERN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_4_1" id="__nav_4_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    HTML
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_1">
            <span class="md-nav__icon md-icon"></span>
            HTML
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/html/html_syntax/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 HTML Basic Syntax
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_4_2" id="__nav_4_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    3403
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4_2">
            <span class="md-nav__icon md-icon"></span>
            3403
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024 Exam
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.0 Intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.0 HTML
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.0 CSS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.0 Bootstrap
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.0 Core JavaScript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l5_ex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.1 Exam QAs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.0 Client Javascript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l6_ex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6.1 Exam QAs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7.0 Agile and Git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8.0 Communicating With A Server
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9.0 Flask and Server-Side Rendering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10.0 Client Side Rendering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11.0 Databases and ORM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12.0 Security
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13.0 Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14.0 RESTful API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mern/3403/l15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    15.0 Development
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Operating Systems
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Operating Systems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5_1" >
        
          
          <label class="md-nav__link" for="__nav_4_5_1" id="__nav_4_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    C System Programming
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5_1">
            <span class="md-nav__icon md-icon"></span>
            C System Programming
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/2.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1 Basic Syntax
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/2.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2 Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/2.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3 Linux Review
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/2.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4 MyCal
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/3.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1 Data Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/3.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2 Computer Hardware
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/3.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3 Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/4.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.1 Computer Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/4.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.2 I/O
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/4.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.3 I/O Prac
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/5.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.1 Processes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../c/5.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5.2 Multiple Blocked States
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Handbooks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Handbooks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Telegram
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Telegram
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../handbook/telegram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Telegram Guide
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Computer Science Plan
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Computer Science Plan
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../handbook/csplan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CS Study Plan
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cybersecurity
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Cybersecurity
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cyber/networkattack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Network Attacks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#layer-comparison-and-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      Layer Comparison and Relationships
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Layer Comparison and Relationships">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#service-characteristics-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Service Characteristics Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address-structure-and-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Address Structure and Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-addresses" class="md-nav__link">
    <span class="md-ellipsis">
      Special Addresses
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subnetting-example-calculation" class="md-nav__link">
    <span class="md-ellipsis">
      Subnetting Example Calculation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subnet-mask-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Subnet Mask Formats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv4-header-field-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      IPv4 Header Field Analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#key-header-fields-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Key Header Fields Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragmentation-control-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Fragmentation Control Fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragmentation-example" class="md-nav__link">
    <span class="md-ellipsis">
      Fragmentation Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragmentation-vs-reassembly-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Fragmentation vs. Reassembly Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#forwarding-vs-routing-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      Forwarding vs. Routing Comparison
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-forwarding-table" class="md-nav__link">
    <span class="md-ellipsis">
      Example Forwarding Table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concept-integration-and-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      Concept Integration and Relationships
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Concept Integration and Relationships">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#network-layer-process-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Network Layer Process Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-calculation-types" class="md-nav__link">
    <span class="md-ellipsis">
      Common Calculation Types
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="50-network-layer">5.0 Network Layer</h1>
<p>The Network Layer is a fundamental concept in computer networks, residing above the Data Link Layer and below the Transport Layer in the OSI model.</p>
<h2 id="layer-comparison-and-relationships">Layer Comparison and Relationships</h2>
<table>
<thead>
<tr>
<th>Layer</th>
<th>Primary Focus</th>
<th>Scope</th>
<th>Key Protocols</th>
<th>Addressing</th>
</tr>
</thead>
<tbody>
<tr>
<td>Data Link Layer</td>
<td>Frame transmission across <strong>single link</strong></td>
<td>Local (point-to-point)</td>
<td>Ethernet, PPP</td>
<td>MAC addresses</td>
</tr>
<tr>
<td><strong>Network Layer</strong></td>
<td>Packet delivery across <strong>multiple networks</strong></td>
<td>End-to-end</td>
<td><strong>IP, ICMP</strong></td>
<td><strong>IP addresses</strong></td>
</tr>
<tr>
<td>Transport Layer</td>
<td>Reliable/unreliable data transfer</td>
<td>End-to-end</td>
<td>TCP, UDP</td>
<td>Port numbers</td>
</tr>
</tbody>
</table>
<p><strong>1. Role and Responsibilities</strong>
*   The primary role of the Network Layer is to <strong>get packets from a source host to a destination host</strong>. This is a crucial distinction from the Data Link Layer, which is typically concerned with transmitting frames across a <strong>single link</strong>.
*   It is the <strong>lowest OSI layer that has to deal with end-to-end transmission</strong> across interconnected networks. Layers above it, like the Transport Layer, also deal with end-to-end communication.
*   The Network Layer must cater for packets traveling across <strong>multiple networks</strong>, which may be <strong>different in technology, number, type, and topology</strong> (e.g., combining Ethernet, Token Ring, fiber optics, satellite networks).
*   Key design objectives for an effective Network Layer include being <strong>independent of processor/communication technology</strong>, <strong>independent of the number, type, and topology of the subnets</strong>, and providing a <strong>uniform addressing scheme for all hosts in the network</strong>.</p>
<p><strong>2. Internet Protocol (IP)</strong>
*   <strong>IP</strong> is the <strong>main network layer protocol</strong>. It is most widely used, typically <strong>paired with TCP</strong> (Transport Control Protocol).
*   IP runs on <strong>all hosts and routers</strong> in the network.
*   It is responsible for handling the <strong>addressing and forwarding mechanisms</strong>.
*   IP relays data across network boundaries and delivers packets from one host to another using IP addresses.</p>
<p><strong>3. IP Service Model (Focus on IPv4)</strong></p>
<h3 id="service-characteristics-comparison">Service Characteristics Comparison</h3>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>IPv4 Characteristics</th>
<th>Implications</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Connection Type</strong></td>
<td>Connectionless (datagram-based)</td>
<td>No connection establishment required</td>
</tr>
<tr>
<td><strong>Delivery Guarantee</strong></td>
<td>Best-effort (unreliable)</td>
<td>Packets may be lost, duplicated, delayed</td>
</tr>
<tr>
<td><strong>Ordering</strong></td>
<td>No guarantee</td>
<td>Packets may arrive out of order</td>
</tr>
<tr>
<td><strong>Error Recovery</strong></td>
<td>None at IP level</td>
<td>Higher layers (TCP) handle reliability</td>
</tr>
</tbody>
</table>
<ul>
<li>The service model provided by IP (specifically IPv4) is <strong>connectionless (datagram-based)</strong>. This means a connection is not established beforehand; packets (datagrams) are simply sent out with destination information.</li>
<li>It provides <strong>best-effort delivery</strong>, meaning it is an <strong>unreliable service</strong>.</li>
<li>Due to this unreliable nature, packets may be <strong>lost, delivered out of order, duplicated, or delayed</strong> for a long time.</li>
<li>Despite being unreliable, this <strong>best-effort service is still useful</strong> in many scenarios.</li>
</ul>
<p><strong>4. IPv4 Addressing</strong></p>
<h3 id="address-structure-and-classes">Address Structure and Classes</h3>
<table>
<thead>
<tr>
<th>Class</th>
<th>First Bits</th>
<th>Network Bits</th>
<th>Host Bits</th>
<th>Address Range</th>
<th>Max Networks</th>
<th>Max Hosts per Network</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>A</strong></td>
<td>0</td>
<td>8</td>
<td>24</td>
<td>1.0.0.0 - 126.255.255.255</td>
<td>126</td>
<td>16, 777, 214</td>
</tr>
<tr>
<td><strong>B</strong></td>
<td>10</td>
<td>16</td>
<td>16</td>
<td>128.0.0.0 - 191.255.255.255</td>
<td>16, 384</td>
<td>65, 534</td>
</tr>
<tr>
<td><strong>C</strong></td>
<td>110</td>
<td>24</td>
<td>8</td>
<td>192.0.0.0 - 223.255.255.255</td>
<td>2, 097, 152</td>
<td>254</td>
</tr>
</tbody>
</table>
<ul>
<li>IP provides a <strong>uniform addressing scheme</strong> for all hosts, acting as a way of naming nodes.</li>
<li>IPv4 addresses are <strong>32 bits (4 bytes)</strong> long. They are commonly written in <strong>dotted decimal notation</strong>, where each byte is represented as a decimal number between 0 and 255, separated by dots (e.g., 192.168.1.1).</li>
<li>IPv4 addresses have a <strong>basic hierarchical structure</strong>, consisting of a <strong>network part</strong> and a <strong>host part</strong>. This is analogous to a postal address structure like country, city, street, and house number.</li>
<li><strong>IPv4 Address Classes (A, B, C)</strong> were historically used, where the class and the default split between network and host parts were determined by the first few bits of the address.<ul>
<li>Class A: First bit is 0. Network part is the first 8 bits. Host part is the remaining 24 bits.</li>
<li>Class B: First two bits are 10. Network part is the first 16 bits. Host part is the remaining 16 bits.</li>
<li>Class C: First three bits are 110. Network part is the first 24 bits. Host part is the remaining 8 bits.</li>
</ul>
</li>
</ul>
<h3 id="special-addresses">Special Addresses</h3>
<table>
<thead>
<tr>
<th>Address Type</th>
<th>Description</th>
<th>Example (Class C)</th>
<th>Usable for Hosts</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Network Address</strong></td>
<td>All host bits = 0</td>
<td>192.168.1.0</td>
<td>No</td>
</tr>
<tr>
<td><strong>Broadcast Address</strong></td>
<td>All host bits = 1</td>
<td>192.168.1.255</td>
<td>No</td>
</tr>
<tr>
<td><strong>Host Addresses</strong></td>
<td>Mixed host bits</td>
<td>192.168.1.1 - 192.168.1.254</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<ul>
<li>Within any network or subnet, there are <strong>special addresses</strong>: the <strong>network address</strong> (all host bits are 0) and the <strong>broadcast address</strong> (all host bits are 1).</li>
<li>These two special addresses <strong>reduce the number of usable host addresses</strong> in a network or subnet. If a network/subnet has H bits for the host part, the number of usable host addresses is <strong>2<sup>H</sup> - 2</strong>.</li>
<li>An IP address assigned to a device connected to the internet must be <strong>unique</strong> on the internet. They can be assigned dynamically (e.g., when connecting to a network like UniFi).</li>
</ul>
<p><strong>5. Subnetting (CIDR Basics)</strong></p>
<h3 id="subnetting-example-calculation">Subnetting Example Calculation</h3>
<p><strong>Scenario</strong>: An ISP has been allocated 192.168.1.0/24 and needs to create 4 subnets.</p>
<table>
<thead>
<tr>
<th>Subnet</th>
<th>Network Address</th>
<th>Subnet Mask</th>
<th>CIDR</th>
<th>Usable Range</th>
<th>Broadcast</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>192.168.1.0</td>
<td>255.255.255.192</td>
<td>/26</td>
<td>192.168.1.1 - 192.168.1.62</td>
<td>192.168.1.63</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>192.168.1.64</td>
<td>255.255.255.192</td>
<td>/26</td>
<td>192.168.1.65 - 192.168.1.126</td>
<td>192.168.1.127</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>192.168.1.128</td>
<td>255.255.255.192</td>
<td>/26</td>
<td>192.168.1.129 - 192.168.1.190</td>
<td>192.168.1.191</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>192.168.1.192</td>
<td>255.255.255.192</td>
<td>/26</td>
<td>192.168.1.193 - 192.168.1.254</td>
<td>192.168.1.255</td>
</tr>
</tbody>
</table>
<p><strong>Calculation Process</strong>:
* Original network: 192.168.1.0/24 (8 host bits)
* For 4 subnets: Need 2 additional bits (2² = 4)
* New subnet mask: /26 (24 + 2 = 26 network bits)
* Host bits per subnet: 6 bits (32 - 26 = 6)
* Hosts per subnet: 2⁶ - 2 = 62 usable addresses</p>
<h3 id="subnet-mask-formats">Subnet Mask Formats</h3>
<table>
<thead>
<tr>
<th>CIDR Notation</th>
<th>Dotted Decimal</th>
<th>Binary (last octet)</th>
<th>Host Bits</th>
<th>Max Hosts</th>
</tr>
</thead>
<tbody>
<tr>
<td>/24</td>
<td>255.255.255.0</td>
<td>00000000</td>
<td>8</td>
<td>254</td>
</tr>
<tr>
<td>/25</td>
<td>255.255.255.128</td>
<td>10000000</td>
<td>7</td>
<td>126</td>
</tr>
<tr>
<td>/26</td>
<td>255.255.255.192</td>
<td>11000000</td>
<td>6</td>
<td>62</td>
</tr>
<tr>
<td>/27</td>
<td>255.255.255.224</td>
<td>11100000</td>
<td>5</td>
<td>30</td>
</tr>
<tr>
<td>/28</td>
<td>255.255.255.240</td>
<td>11110000</td>
<td>4</td>
<td>14</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Subnetting</strong> is a technique used to <strong>divide a larger network into smaller, distinct subnetworks</strong>. This is useful, for example, for an Internet Service Provider (ISP) to manage address space efficiently and distribute addresses to different customers or regions.</li>
<li>Subnetting is implemented using a <strong>subnet mask</strong>. The subnet mask is a 32-bit number, often written in dotted decimal notation or using slash notation (CIDR - Classless Interdomain Routing).</li>
<li>In the binary representation of a subnet mask, the bits that are part of the network/subnet address are set to <strong>1</strong>, and the bits that are part of the host address are set to <strong>0</strong>. The <strong>ones always fill from the left</strong> (most significant bit) to the right.</li>
<li>The slash notation (e.g.,      <code>/24</code>,      <code>/25</code>) indicates the <strong>number of bits set to 1</strong> in the subnet mask.</li>
<li>To determine if a destination IP address is on the same subnet as the sending host, the host performs a <strong>bitwise AND operation</strong> between its own subnet mask and the destination IP address. If the result equals the subnet number of the sending host, the destination is on the same subnet.</li>
</ul>
<p><strong>6. IPv4 Header</strong></p>
<h3 id="ipv4-header-field-analysis">IPv4 Header Field Analysis</h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a> 0                   1                   2                   3
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a> 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>|Version|  IHL  |Type of Service|          Total Length         |
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>|         Identification        |Flags|      Fragment Offset    |
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>|  Time to Live |    Protocol   |         Header Checksum       |
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>|                       Source Address                          |
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>|                    Destination Address                        |
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>|                    Options                    |    Padding    |
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span></code></pre></div>
<h3 id="key-header-fields-comparison">Key Header Fields Comparison</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Size (bits)</th>
<th>Purpose</th>
<th>Key Values</th>
<th>Impact of Errors</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Version</strong></td>
<td>4</td>
<td>IP version identifier</td>
<td>4 (IPv4)</td>
<td>Wrong protocol processing</td>
</tr>
<tr>
<td><strong>Header Length</strong></td>
<td>4</td>
<td>Header size in 32-bit words</td>
<td>5-15 (20-60 bytes)</td>
<td>Parsing errors</td>
</tr>
<tr>
<td><strong>Total Length</strong></td>
<td>16</td>
<td>Entire packet size</td>
<td>20-65535 bytes</td>
<td>Truncation/buffer issues</td>
</tr>
<tr>
<td><strong>TTL</strong></td>
<td>8</td>
<td>Hop limit</td>
<td>1-255</td>
<td>Routing loops prevention</td>
</tr>
<tr>
<td><strong>Protocol</strong></td>
<td>8</td>
<td>Upper layer protocol</td>
<td>1(ICMP), 6(TCP), 17(UDP)</td>
<td>Wrong demultiplexing</td>
</tr>
<tr>
<td><strong>Header Checksum</strong></td>
<td>16</td>
<td>Error detection</td>
<td>Calculated value</td>
<td>Corruption detection</td>
</tr>
</tbody>
</table>
<h3 id="fragmentation-control-fields">Fragmentation Control Fields</h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Purpose</th>
<th>Values</th>
<th>Fragment Handling</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Identification</strong></td>
<td>Group fragments</td>
<td>0-65535</td>
<td>Same ID for all fragments of original packet</td>
</tr>
<tr>
<td><strong>DF Flag</strong></td>
<td>Don't Fragment</td>
<td>0/1</td>
<td>If 1, packet must not be fragmented</td>
</tr>
<tr>
<td><strong>MF Flag</strong></td>
<td>More Fragments</td>
<td>0/1</td>
<td>1 for all fragments except last</td>
</tr>
<tr>
<td><strong>Fragment Offset</strong></td>
<td>Position in original</td>
<td>0-8191 (×8 bytes)</td>
<td>Reassembly order indicator</td>
</tr>
</tbody>
</table>
<ul>
<li>Every IP packet (datagram) carries an <strong>IPv4 header</strong> appended to the data payload from the upper layer. The header contains information needed to transfer the packet.</li>
<li>Understanding the fields in the IPv4 header is important. Key fields include:<ul>
<li><strong>Version</strong>: Indicates the IP version (e.g., 4 for IPv4). (IPv6 exists but is excluded from the exam).</li>
<li><strong>Header Length</strong>: Specifies the length of the IP header in 32-bit units. A value greater than 5 implies the presence of the optional "Options" field.</li>
<li><strong>Total Length</strong>: The total length of the IP datagram (header + data).</li>
<li><strong>Identification</strong>: A value used to identify fragments belonging to the same original datagram.</li>
<li><strong>Flags</strong>: Contains control bits related to fragmentation, including "Don't Fragment" (DF) and "More Fragments" (MF) flags. The DF flag set to 1 tells routers not to fragment the packet.</li>
<li><strong>Fragment Offset</strong>: Indicates the position of a fragment relative to the beginning of the original unfragmented datagram. It is measured in units of 8 bytes.</li>
<li><strong>Time To Live (TTL)</strong>: A value that is decremented by each router (hop) the packet traverses. Its purpose is to <strong>limit the lifetime of a packet</strong> and prevent it from circulating endlessly in the network (e.g., due to routing loops). If TTL reaches zero, the packet is discarded.</li>
<li><strong>Protocol Identifier</strong>: Indicates the protocol used by the upper layer (e.g., TCP (6), UDP (17), ICMP (1)).</li>
<li><strong>Header Checksum</strong>: A checksum calculated <strong>only over the IP header</strong>. Its purpose is to <strong>detect errors in the header</strong> and ensure that routing information is correct. If due to error, the source or destination address changes, the packet would be misrouted.</li>
<li><strong>Source IP Address</strong>: The 32-bit IP address of the sending host.</li>
<li><strong>Destination IP Address</strong>: The 32-bit IP address of the intended receiving host.</li>
<li><strong>Options and Padding</strong>: Optional fields that can extend the header.</li>
</ul>
</li>
</ul>
<p><strong>7. Fragmentation and Reassembly</strong></p>
<h3 id="fragmentation-example">Fragmentation Example</h3>
<p><strong>Original Packet</strong>: 3000 bytes data + 20 bytes header = 3020 bytes total
<strong>MTU Constraint</strong>: 1500 bytes</p>
<table>
<thead>
<tr>
<th>Fragment</th>
<th>Data Size</th>
<th>Total Size</th>
<th>Identification</th>
<th>MF Flag</th>
<th>Fragment Offset</th>
<th>Offset (bytes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>1480 bytes</td>
<td>1500 bytes</td>
<td>12345</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>1480 bytes</td>
<td>1500 bytes</td>
<td>12345</td>
<td>1</td>
<td>185</td>
<td>1480</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>40 bytes</td>
<td>60 bytes</td>
<td>12345</td>
<td>0</td>
<td>370</td>
<td>2960</td>
</tr>
</tbody>
</table>
<p><strong>Calculation Notes</strong>:
* Fragment Offset = (Byte Offset) / 8
* Fragment 1: 0 / 8 = 0
* Fragment 2: 1480 / 8 = 185
* Fragment 3: 2960 / 8 = 370</p>
<h3 id="fragmentation-vs-reassembly-comparison">Fragmentation vs. Reassembly Comparison</h3>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Fragmentation</th>
<th>Reassembly</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Location</strong></td>
<td>Source host or intermediate routers</td>
<td>Destination host only</td>
</tr>
<tr>
<td><strong>Trigger</strong></td>
<td>Packet size &gt; MTU</td>
<td>Receiving fragments</td>
</tr>
<tr>
<td><strong>Fields Used</strong></td>
<td>ID, DF, MF, Fragment Offset</td>
<td>ID, MF, Fragment Offset</td>
</tr>
<tr>
<td><strong>Error Handling</strong></td>
<td>Drop if DF=1 and size &gt; MTU</td>
<td>Discard all if one fragment lost</td>
</tr>
<tr>
<td><strong>Performance Impact</strong></td>
<td>Processing overhead</td>
<td>Buffer management, timeout</td>
</tr>
</tbody>
</table>
<ul>
<li>Messages may need to be <strong>divided into smaller packets (fragments)</strong> before transmission. This happens when a datagram is <strong>larger than the Maximum Transmission Unit (MTU)</strong> of the next network link it needs to traverse.</li>
<li>Fragmentation typically occurs at the source host or at intermediate routers if necessary.</li>
<li>The <strong>Identification, Flags (MF), and Fragment Offset</strong> fields in the IP header are used to manage fragmentation.</li>
<li>The "More Fragments" (MF) flag is set to 1 for all fragments except the last one. The "Fragment Offset" indicates the position of the fragment's data within the original datagram.</li>
<li>Fragments are <strong>reassembled back into the original datagram at the destination host</strong>. They are put together based on their Identification and Fragment Offset values, even if they arrive out of order.</li>
<li>IP itself <strong>does not provide recovery for lost fragments</strong>. If a fragment is lost, the entire original datagram cannot be reassembled, and a higher layer protocol (like TCP) would be responsible for requesting retransmission.</li>
<li>Sources generally <strong>try to avoid fragmentation</strong> due to the overhead involved. Re-fragmentation of an already fragmented packet is possible.</li>
</ul>
<p><strong>8. Forwarding (vs Routing)</strong></p>
<h3 id="forwarding-vs-routing-comparison">Forwarding vs. Routing Comparison</h3>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Forwarding</th>
<th>Routing</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Scope</strong></td>
<td>Local router action</td>
<td>Network-wide process</td>
</tr>
<tr>
<td><strong>Function</strong></td>
<td>Move packet input → output port</td>
<td>Calculate/build forwarding tables</td>
</tr>
<tr>
<td><strong>Timeline</strong></td>
<td>Per-packet basis</td>
<td>Periodic or topology-change triggered</td>
</tr>
<tr>
<td><strong>Data Structure</strong></td>
<td>Uses existing forwarding table</td>
<td>Creates/updates forwarding table</td>
</tr>
<tr>
<td><strong>Location</strong></td>
<td>Individual router</td>
<td>Network control plane</td>
</tr>
<tr>
<td><strong>Speed Requirement</strong></td>
<td>Very fast (hardware-based)</td>
<td>Can be slower (software-based)</td>
</tr>
</tbody>
</table>
<h3 id="example-forwarding-table">Example Forwarding Table</h3>
<table>
<thead>
<tr>
<th>Destination Network</th>
<th>Next Hop</th>
<th>Interface</th>
<th>Metric</th>
</tr>
</thead>
<tbody>
<tr>
<td>192.168.1.0/24</td>
<td>Direct</td>
<td>eth0</td>
<td>0</td>
</tr>
<tr>
<td>192.168.2.0/24</td>
<td>10.0.0.1</td>
<td>eth1</td>
<td>1</td>
</tr>
<tr>
<td>0.0.0.0/0</td>
<td>10.0.0.254</td>
<td>eth1</td>
<td>10</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Forwarding</strong> is the <strong>local action taken by a router</strong> to move a packet from an input interface to an output interface.</li>
<li>A router determines the appropriate output port by <strong>looking up the destination IP address</strong> of the incoming packet in its forwarding table.</li>
<li>(While related, the process of <em>creating</em> or <em>calculating</em> these forwarding/routing tables is called Routing, which is an excluded topic).</li>
</ul>
<h2 id="concept-integration-and-relationships">Concept Integration and Relationships</h2>
<h3 id="network-layer-process-flow">Network Layer Process Flow</h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Source Host                Router                 Destination Host
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>     |                        |                           |
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>1. Create IP packet      2. Receive packet         6. Receive packet
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>   - Add IP header          - Check TTL               - Verify header
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>   - Fragment if needed     - Decrement TTL           - Reassemble fragments
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>     |                      - Check destination        - Extract payload
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>2. Send to router          - Lookup forwarding table      |
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>     |                      - Forward to next hop    7. Deliver to upper layer
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>     |                           |                        |
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>     +------ Network Path -------+                        |
</span></code></pre></div>
<h3 id="common-calculation-types">Common Calculation Types</h3>
<p><strong>1. Address Class Identification</strong>
* Given: 172.16.5.10
* Binary: 10101100.00010000.00000101.00001010
* First two bits: 10 → Class B</p>
<p><strong>2. Subnetting Calculations</strong>
* Network: 192.168.1.0/24, need 6 subnets
* Required subnet bits: ceil(log₂(6)) = 3 bits
* New mask: /27 (24 + 3)
* Hosts per subnet: 2⁵ - 2 = 30</p>
<p><strong>3. Fragmentation Calculations</strong>
* Original: 4000 bytes, MTU: 1500 bytes
* Fragments needed: ceil(4000/1480) = 3
* Fragment offsets: 0, 185, 370</p>
<p>These notes cover the examinable aspects of the Network Layer and IP based on the provided sources and your list of exclusions. Remember to provide clear explanations and justifications for your answers in the exam.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../w4/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 4.0 Wireless Networking">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                4.0 Wireless Networking
              </div>
            </div>
          </a>
        
        
          
          <a href="../w6/" class="md-footer__link md-footer__link--next" aria-label="下一页: 6.0 Transport Layer">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                6.0 Transport Layer
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "content.code.annotate", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
      
        <script src="../../../javascripts/katex.js"></script>
      
    
  </body>
</html>