<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Your attitude, not your aptitude, will determine your altitude."><meta name=author content=ronin><link href=https://execution.icu/cs/network/w6/ rel=canonical><link href=../w5/ rel=prev><link href=../w7/ rel=next><link rel=icon href=../../../resources/icon.svg><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.12"><title>6.0 Transport Layer - Ronin's Notes</title><link rel=stylesheet href=../../../assets/stylesheets/main.2afb09e1.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"JetBrains Mono"}</style><link rel=stylesheet href=../../../resources/extra.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head><body dir=ltr data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=indigo><input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off><input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off><label class=md-overlay for=__drawer></label><div data-md-component=skip><a href=#60-transport-layer class=md-skip> 跳转至 </a></div><div data-md-component=announce></div><header class=md-header data-md-component=header><nav class="md-header__inner md-grid" aria-label=页眉><a href=../../.. title="Ronin's Notes" class="md-header__button md-logo" aria-label="Ronin's Notes" data-md-component=logo><img src=../../../resources/logo.svg alt=logo></a><label class="md-header__button md-icon" for=__drawer><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> Ronin's Notes </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> 6.0 Transport Layer </span></div></div></div><form class=md-header__option data-md-component=palette><input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0><label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg></label><input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=blue-grey data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1><label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg></label></form><script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script><label class="md-header__button md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required><label class="md-search__icon md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></label><nav class=md-search__options aria-label=查找><button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button></nav></form><div class=md-search__output><div class=md-search__scrollwrap tabindex=0 data-md-scrollfix><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta> 正在初始化搜索引擎 </div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div></nav></header><div class=md-container data-md-component=container><nav class=md-tabs aria-label=标签 data-md-component=tabs><div class=md-grid><ul class=md-tabs__list><li class=md-tabs__item><a href=../../.. class=md-tabs__link> Home </a></li><li class=md-tabs__item><a href=../../../arts/wukong/ class=md-tabs__link> Arts </a></li><li class=md-tabs__item><a href=../../../tools/gfw/ class=md-tabs__link> Tools </a></li><li class="md-tabs__item md-tabs__item--active"><a href=../../python/flask/1.0/ class=md-tabs__link> Computer Science </a></li><li class=md-tabs__item><a href=../../../handbook/telegram/ class=md-tabs__link> Handbooks </a></li><li class=md-tabs__item><a href=../../../cyber/networkattack/ class=md-tabs__link> Cybersecurity </a></li></ul></div></nav><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0><label class=md-nav__title for=__drawer><a href=../../.. title="Ronin's Notes" class="md-nav__button md-logo" aria-label="Ronin's Notes" data-md-component=logo><img src=../../../resources/logo.svg alt=logo></a> Ronin's Notes </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../.. class=md-nav__link><span class=md-ellipsis> Home </span></a></li><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2><label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0><span class=md-ellipsis> Arts </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false><label class=md-nav__title for=__nav_2><span class="md-nav__icon md-icon"></span> Arts </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../../arts/wukong/ class=md-nav__link><span class=md-ellipsis> 西游 </span></a></li><li class=md-nav__item><a href=../../../arts/cook/ class=md-nav__link><span class=md-ellipsis> 生活小记 </span></a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3><label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0><span class=md-ellipsis> Tools </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false><label class=md-nav__title for=__nav_3><span class="md-nav__icon md-icon"></span> Tools </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../../tools/gfw/ class=md-nav__link><span class=md-ellipsis> The Great Firewall </span></a></li><li class=md-nav__item><a href=../../../tools/ffmpeg/ class=md-nav__link><span class=md-ellipsis> FFMPEG </span></a></li><li class=md-nav__item><a href=../../../tools/wine/ class=md-nav__link><span class=md-ellipsis> macOS Virtual Machine </span></a></li><li class=md-nav__item><a href=../../../tools/searxng/ class=md-nav__link><span class=md-ellipsis> Dify + Searxng Plugin </span></a></li><li class=md-nav__item><a href=../../../tools/agent/ class=md-nav__link><span class=md-ellipsis> AI Agent </span></a></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked><label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex><span class=md-ellipsis> Computer Science </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true><label class=md-nav__title for=__nav_4><span class="md-nav__icon md-icon"></span> Computer Science </label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1><label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex><span class=md-ellipsis> Python </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false><label class=md-nav__title for=__nav_4_1><span class="md-nav__icon md-icon"></span> Python </label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1_1><label class=md-nav__link for=__nav_4_1_1 id=__nav_4_1_1_label tabindex=0><span class=md-ellipsis> Flask </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_1_1_label aria-expanded=false><label class=md-nav__title for=__nav_4_1_1><span class="md-nav__icon md-icon"></span> Flask </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../python/flask/1.0/ class=md-nav__link><span class=md-ellipsis> 1.0 Quick Start </span></a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2><label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex><span class=md-ellipsis> Java </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false><label class=md-nav__title for=__nav_4_2><span class="md-nav__icon md-icon"></span> Java </label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2_1><label class=md-nav__link for=__nav_4_2_1 id=__nav_4_2_1_label tabindex=0><span class=md-ellipsis> Basics </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_2_1_label aria-expanded=false><label class=md-nav__title for=__nav_4_2_1><span class="md-nav__icon md-icon"></span> Basics </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../java/basics/concept/ class=md-nav__link><span class=md-ellipsis> Open Book Exam </span></a></li><li class=md-nav__item><a href=../../java/basics/2024.s1/ class=md-nav__link><span class=md-ellipsis> 2024.S1 </span></a></li><li class=md-nav__item><a href=../../java/basics/t1/ class=md-nav__link><span class=md-ellipsis> 1.0 T1 </span></a></li><li class=md-nav__item><a href=../../java/basics/t2/ class=md-nav__link><span class=md-ellipsis> 2.0 T2 </span></a></li><li class=md-nav__item><a href=../../java/basics/w4/ class=md-nav__link><span class=md-ellipsis> 4.0 Loop </span></a></li><li class=md-nav__item><a href=../../java/basics/w5/ class=md-nav__link><span class=md-ellipsis> 5.0 Class </span></a></li><li class=md-nav__item><a href=../../java/basics/w6/ class=md-nav__link><span class=md-ellipsis> 6.0 Inheritance </span></a></li><li class=md-nav__item><a href=../../java/basics/w7/ class=md-nav__link><span class=md-ellipsis> 7.0 More, Packages </span></a></li><li class=md-nav__item><a href=../../java/basics/w8/ class=md-nav__link><span class=md-ellipsis> 8.0 Exceptions, Interfaces </span></a></li><li class=md-nav__item><a href=../../java/basics/w9/ class=md-nav__link><span class=md-ellipsis> 9.0 Enums, Generic, SOLID </span></a></li><li class=md-nav__item><a href=../../java/basics/w10/ class=md-nav__link><span class=md-ellipsis> 10.0 Thread, Lambda </span></a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3 checked><label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex><span class=md-ellipsis> Networks </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=true><label class=md-nav__title for=__nav_4_3><span class="md-nav__icon md-icon"></span> Networks </label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3_1 checked><label class=md-nav__link for=__nav_4_3_1 id=__nav_4_3_1_label tabindex=0><span class=md-ellipsis> 3002 </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_3_1_label aria-expanded=true><label class=md-nav__title for=__nav_4_3_1><span class="md-nav__icon md-icon"></span> 3002 </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../w1/ class=md-nav__link><span class=md-ellipsis> 1.0 OSI and TCP/IP </span></a></li><li class=md-nav__item><a href=../w2/ class=md-nav__link><span class=md-ellipsis> 2.0 Physical Layer </span></a></li><li class=md-nav__item><a href=../w3/ class=md-nav__link><span class=md-ellipsis> 3.0 Data Link Layer </span></a></li><li class=md-nav__item><a href=../w4/ class=md-nav__link><span class=md-ellipsis> 4.0 Wireless Networking </span></a></li><li class=md-nav__item><a href=../w5/ class=md-nav__link><span class=md-ellipsis> 5.0 Network Layer </span></a></li><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" type=checkbox id=__toc><label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis> 6.0 Transport Layer </span><span class="md-nav__icon md-icon"></span></label><a href=./ class="md-nav__link md-nav__link--active"><span class=md-ellipsis> 6.0 Transport Layer </span></a><nav class="md-nav md-nav--secondary" aria-label=目录><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> 目录 </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#1-role-of-the-transport-layer class=md-nav__link><span class=md-ellipsis> 1. Role of the Transport Layer </span></a><nav class=md-nav aria-label="1. Role of the Transport Layer"><ul class=md-nav__list><li class=md-nav__item><a href=#layer-responsibility-comparison class=md-nav__link><span class=md-ellipsis> Layer Responsibility Comparison </span></a></li></ul></nav></li><li class=md-nav__item><a href=#2-ports class=md-nav__link><span class=md-ellipsis> 2. Ports </span></a><nav class=md-nav aria-label="2. Ports"><ul class=md-nav__list><li class=md-nav__item><a href=#port-number-ranges class=md-nav__link><span class=md-ellipsis> Port Number Ranges </span></a></li><li class=md-nav__item><a href=#endpoint-address-structure class=md-nav__link><span class=md-ellipsis> Endpoint Address Structure </span></a></li></ul></nav></li><li class=md-nav__item><a href=#3-transport-protocol-comparison-overview class=md-nav__link><span class=md-ellipsis> 3. Transport Protocol Comparison Overview </span></a></li><li class=md-nav__item><a href=#4-user-datagram-protocol-udp class=md-nav__link><span class=md-ellipsis> 4. User Datagram Protocol (UDP) </span></a><nav class=md-nav aria-label="4. User Datagram Protocol (UDP)"><ul class=md-nav__list><li class=md-nav__item><a href=#udp-properties-characteristics class=md-nav__link><span class=md-ellipsis> UDP Properties &amp; Characteristics </span></a></li><li class=md-nav__item><a href=#udp-header-structure class=md-nav__link><span class=md-ellipsis> UDP Header Structure </span></a></li><li class=md-nav__item><a href=#udp-checksum-mechanism class=md-nav__link><span class=md-ellipsis> UDP Checksum Mechanism </span></a><nav class=md-nav aria-label="UDP Checksum Mechanism"><ul class=md-nav__list><li class=md-nav__item><a href=#checksum-calculation-example class=md-nav__link><span class=md-ellipsis> Checksum Calculation Example </span></a></li></ul></nav></li><li class=md-nav__item><a href=#udp-limitations class=md-nav__link><span class=md-ellipsis> UDP Limitations </span></a></li><li class=md-nav__item><a href=#udp-communication-flow class=md-nav__link><span class=md-ellipsis> UDP Communication Flow </span></a></li></ul></nav></li><li class=md-nav__item><a href=#5-transmission-control-protocol-tcp class=md-nav__link><span class=md-ellipsis> 5. Transmission Control Protocol (TCP) </span></a><nav class=md-nav aria-label="5. Transmission Control Protocol (TCP)"><ul class=md-nav__list><li class=md-nav__item><a href=#tcp-properties-guarantees class=md-nav__link><span class=md-ellipsis> TCP Properties &amp; Guarantees </span></a></li><li class=md-nav__item><a href=#tcp-header-structure class=md-nav__link><span class=md-ellipsis> TCP Header Structure </span></a></li><li class=md-nav__item><a href=#tcp-flags-and-their-functions class=md-nav__link><span class=md-ellipsis> TCP Flags and Their Functions </span></a></li><li class=md-nav__item><a href=#tcp-segmentation class=md-nav__link><span class=md-ellipsis> TCP Segmentation </span></a><nav class=md-nav aria-label="TCP Segmentation"><ul class=md-nav__list><li class=md-nav__item><a href=#segmentation-example class=md-nav__link><span class=md-ellipsis> Segmentation Example </span></a></li></ul></nav></li><li class=md-nav__item><a href=#tcp-sequence-and-acknowledgment-numbers class=md-nav__link><span class=md-ellipsis> TCP Sequence and Acknowledgment Numbers </span></a><nav class=md-nav aria-label="TCP Sequence and Acknowledgment Numbers"><ul class=md-nav__list><li class=md-nav__item><a href=#sequence-number-example class=md-nav__link><span class=md-ellipsis> Sequence Number Example </span></a></li></ul></nav></li><li class=md-nav__item><a href=#tcp-connection-management class=md-nav__link><span class=md-ellipsis> TCP Connection Management </span></a><nav class=md-nav aria-label="TCP Connection Management"><ul class=md-nav__list><li class=md-nav__item><a href=#3-way-handshake class=md-nav__link><span class=md-ellipsis> 3-way Handshake </span></a></li><li class=md-nav__item><a href=#connection-termination class=md-nav__link><span class=md-ellipsis> Connection Termination </span></a></li></ul></nav></li><li class=md-nav__item><a href=#tcp-reliability-mechanisms class=md-nav__link><span class=md-ellipsis> TCP Reliability Mechanisms </span></a><nav class=md-nav aria-label="TCP Reliability Mechanisms"><ul class=md-nav__list><li class=md-nav__item><a href=#retransmission-example class=md-nav__link><span class=md-ellipsis> Retransmission Example </span></a></li></ul></nav></li></ul></nav></li><li class=md-nav__item><a href=#6-practical-application-scenarios class=md-nav__link><span class=md-ellipsis> 6. Practical Application Scenarios </span></a><nav class=md-nav aria-label="6. Practical Application Scenarios"><ul class=md-nav__list><li class=md-nav__item><a href=#when-to-use-udp-vs-tcp class=md-nav__link><span class=md-ellipsis> When to Use UDP vs TCP </span></a></li><li class=md-nav__item><a href=#performance-trade-offs class=md-nav__link><span class=md-ellipsis> Performance Trade-offs </span></a></li></ul></nav></li><li class=md-nav__item><a href=#7-key-calculations-and-examples class=md-nav__link><span class=md-ellipsis> 7. Key Calculations and Examples </span></a><nav class=md-nav aria-label="7. Key Calculations and Examples"><ul class=md-nav__list><li class=md-nav__item><a href=#checksum-calculation-concept-example class=md-nav__link><span class=md-ellipsis> Checksum Calculation (Concept Example) </span></a></li><li class=md-nav__item><a href=#sequence-number-tracking class=md-nav__link><span class=md-ellipsis> Sequence Number Tracking </span></a></li></ul></nav></li></ul></nav></li><li class=md-nav__item><a href=../w7/ class=md-nav__link><span class=md-ellipsis> 7.0 Presentation Layers </span></a></li><li class=md-nav__item><a href=../w8/ class=md-nav__link><span class=md-ellipsis> 8.0 Client and Server </span></a></li><li class=md-nav__item><a href=../w9/ class=md-nav__link><span class=md-ellipsis> 9.0 Internet Measurement </span></a></li><li class=md-nav__item><a href=../w10/ class=md-nav__link><span class=md-ellipsis> 10.0 Exam Samples </span></a></li><li class=md-nav__item><a href=../w11/ class=md-nav__link><span class=md-ellipsis> 11.0 Past Exam Questions </span></a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4><label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex><span class=md-ellipsis> MERN </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false><label class=md-nav__title for=__nav_4_4><span class="md-nav__icon md-icon"></span> MERN </label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_1><label class=md-nav__link for=__nav_4_4_1 id=__nav_4_4_1_label tabindex=0><span class=md-ellipsis> HTML </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_4_1_label aria-expanded=false><label class=md-nav__title for=__nav_4_4_1><span class="md-nav__icon md-icon"></span> HTML </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../mern/html/html_syntax/ class=md-nav__link><span class=md-ellipsis> 1.0 HTML Basic Syntax </span></a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_2><label class=md-nav__link for=__nav_4_4_2 id=__nav_4_4_2_label tabindex=0><span class=md-ellipsis> 3403 </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_4_2_label aria-expanded=false><label class=md-nav__title for=__nav_4_4_2><span class="md-nav__icon md-icon"></span> 3403 </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../mern/3403/2024/ class=md-nav__link><span class=md-ellipsis> 2024 Exam </span></a></li><li class=md-nav__item><a href=../../mern/3403/l1/ class=md-nav__link><span class=md-ellipsis> 1.0 Intro </span></a></li><li class=md-nav__item><a href=../../mern/3403/l2/ class=md-nav__link><span class=md-ellipsis> 2.0 HTML </span></a></li><li class=md-nav__item><a href=../../mern/3403/l3/ class=md-nav__link><span class=md-ellipsis> 3.0 CSS </span></a></li><li class=md-nav__item><a href=../../mern/3403/l4/ class=md-nav__link><span class=md-ellipsis> 4.0 Bootstrap </span></a></li><li class=md-nav__item><a href=../../mern/3403/l5/ class=md-nav__link><span class=md-ellipsis> 5.0 Core JavaScript </span></a></li><li class=md-nav__item><a href=../../mern/3403/l5_ex/ class=md-nav__link><span class=md-ellipsis> 5.1 Exam QAs </span></a></li><li class=md-nav__item><a href=../../mern/3403/l6/ class=md-nav__link><span class=md-ellipsis> 6.0 Client Javascript </span></a></li><li class=md-nav__item><a href=../../mern/3403/l6_ex/ class=md-nav__link><span class=md-ellipsis> 6.1 Exam QAs </span></a></li><li class=md-nav__item><a href=../../mern/3403/l7/ class=md-nav__link><span class=md-ellipsis> 7.0 Agile and Git </span></a></li><li class=md-nav__item><a href=../../mern/3403/l8/ class=md-nav__link><span class=md-ellipsis> 8.0 Communicating With A Server </span></a></li><li class=md-nav__item><a href=../../mern/3403/l9/ class=md-nav__link><span class=md-ellipsis> 9.0 Flask and Server-Side Rendering </span></a></li><li class=md-nav__item><a href=../../mern/3403/l10/ class=md-nav__link><span class=md-ellipsis> 10.0 Client Side Rendering </span></a></li><li class=md-nav__item><a href=../../mern/3403/l11/ class=md-nav__link><span class=md-ellipsis> 11.0 Databases and ORM </span></a></li><li class=md-nav__item><a href=../../mern/3403/l12/ class=md-nav__link><span class=md-ellipsis> 12.0 Security </span></a></li><li class=md-nav__item><a href=../../mern/3403/l13/ class=md-nav__link><span class=md-ellipsis> 13.0 Testing </span></a></li><li class=md-nav__item><a href=../../mern/3403/l14/ class=md-nav__link><span class=md-ellipsis> 14.0 RESTful API </span></a></li><li class=md-nav__item><a href=../../mern/3403/l15/ class=md-nav__link><span class=md-ellipsis> 15.0 Development </span></a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--section md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5><label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex><span class=md-ellipsis> Operating Systems </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false><label class=md-nav__title for=__nav_4_5><span class="md-nav__icon md-icon"></span> Operating Systems </label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5_1><label class=md-nav__link for=__nav_4_5_1 id=__nav_4_5_1_label tabindex=0><span class=md-ellipsis> C System Programming </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_5_1_label aria-expanded=false><label class=md-nav__title for=__nav_4_5_1><span class="md-nav__icon md-icon"></span> C System Programming </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../c/2.1/ class=md-nav__link><span class=md-ellipsis> 2.1 Basic Syntax </span></a></li><li class=md-nav__item><a href=../../c/2.2/ class=md-nav__link><span class=md-ellipsis> 2.2 Functions </span></a></li><li class=md-nav__item><a href=../../c/2.3/ class=md-nav__link><span class=md-ellipsis> 2.3 Linux Review </span></a></li><li class=md-nav__item><a href=../../c/2.4/ class=md-nav__link><span class=md-ellipsis> 2.4 MyCal </span></a></li><li class=md-nav__item><a href=../../c/3.1/ class=md-nav__link><span class=md-ellipsis> 3.1 Data Structure </span></a></li><li class=md-nav__item><a href=../../c/3.2/ class=md-nav__link><span class=md-ellipsis> 3.2 Computer Hardware </span></a></li><li class=md-nav__item><a href=../../c/3.3/ class=md-nav__link><span class=md-ellipsis> 3.3 Functions </span></a></li><li class=md-nav__item><a href=../../c/4.1/ class=md-nav__link><span class=md-ellipsis> 4.1 Computer Architecture </span></a></li><li class=md-nav__item><a href=../../c/4.2/ class=md-nav__link><span class=md-ellipsis> 4.2 I/O </span></a></li><li class=md-nav__item><a href=../../c/4.3/ class=md-nav__link><span class=md-ellipsis> 4.3 I/O Prac </span></a></li><li class=md-nav__item><a href=../../c/5.1/ class=md-nav__link><span class=md-ellipsis> 5.1 Processes </span></a></li><li class=md-nav__item><a href=../../c/5.2/ class=md-nav__link><span class=md-ellipsis> 5.2 Multiple Blocked States </span></a></li></ul></nav></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5><label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0><span class=md-ellipsis> Handbooks </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false><label class=md-nav__title for=__nav_5><span class="md-nav__icon md-icon"></span> Handbooks </label><ul class=md-nav__list data-md-scrollfix><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1><label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0><span class=md-ellipsis> Telegram </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false><label class=md-nav__title for=__nav_5_1><span class="md-nav__icon md-icon"></span> Telegram </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../../handbook/telegram/ class=md-nav__link><span class=md-ellipsis> Telegram Guide </span></a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2><label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0><span class=md-ellipsis> Computer Science Plan </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false><label class=md-nav__title for=__nav_5_2><span class="md-nav__icon md-icon"></span> Computer Science Plan </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../../handbook/csplan/ class=md-nav__link><span class=md-ellipsis> CS Study Plan </span></a></li></ul></nav></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6><label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0><span class=md-ellipsis> Cybersecurity </span><span class="md-nav__icon md-icon"></span></label><nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false><label class=md-nav__title for=__nav_6><span class="md-nav__icon md-icon"></span> Cybersecurity </label><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=../../../cyber/networkattack/ class=md-nav__link><span class=md-ellipsis> Network Attacks </span></a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--secondary" aria-label=目录><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> 目录 </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#1-role-of-the-transport-layer class=md-nav__link><span class=md-ellipsis> 1. Role of the Transport Layer </span></a><nav class=md-nav aria-label="1. Role of the Transport Layer"><ul class=md-nav__list><li class=md-nav__item><a href=#layer-responsibility-comparison class=md-nav__link><span class=md-ellipsis> Layer Responsibility Comparison </span></a></li></ul></nav></li><li class=md-nav__item><a href=#2-ports class=md-nav__link><span class=md-ellipsis> 2. Ports </span></a><nav class=md-nav aria-label="2. Ports"><ul class=md-nav__list><li class=md-nav__item><a href=#port-number-ranges class=md-nav__link><span class=md-ellipsis> Port Number Ranges </span></a></li><li class=md-nav__item><a href=#endpoint-address-structure class=md-nav__link><span class=md-ellipsis> Endpoint Address Structure </span></a></li></ul></nav></li><li class=md-nav__item><a href=#3-transport-protocol-comparison-overview class=md-nav__link><span class=md-ellipsis> 3. Transport Protocol Comparison Overview </span></a></li><li class=md-nav__item><a href=#4-user-datagram-protocol-udp class=md-nav__link><span class=md-ellipsis> 4. User Datagram Protocol (UDP) </span></a><nav class=md-nav aria-label="4. User Datagram Protocol (UDP)"><ul class=md-nav__list><li class=md-nav__item><a href=#udp-properties-characteristics class=md-nav__link><span class=md-ellipsis> UDP Properties &amp; Characteristics </span></a></li><li class=md-nav__item><a href=#udp-header-structure class=md-nav__link><span class=md-ellipsis> UDP Header Structure </span></a></li><li class=md-nav__item><a href=#udp-checksum-mechanism class=md-nav__link><span class=md-ellipsis> UDP Checksum Mechanism </span></a><nav class=md-nav aria-label="UDP Checksum Mechanism"><ul class=md-nav__list><li class=md-nav__item><a href=#checksum-calculation-example class=md-nav__link><span class=md-ellipsis> Checksum Calculation Example </span></a></li></ul></nav></li><li class=md-nav__item><a href=#udp-limitations class=md-nav__link><span class=md-ellipsis> UDP Limitations </span></a></li><li class=md-nav__item><a href=#udp-communication-flow class=md-nav__link><span class=md-ellipsis> UDP Communication Flow </span></a></li></ul></nav></li><li class=md-nav__item><a href=#5-transmission-control-protocol-tcp class=md-nav__link><span class=md-ellipsis> 5. Transmission Control Protocol (TCP) </span></a><nav class=md-nav aria-label="5. Transmission Control Protocol (TCP)"><ul class=md-nav__list><li class=md-nav__item><a href=#tcp-properties-guarantees class=md-nav__link><span class=md-ellipsis> TCP Properties &amp; Guarantees </span></a></li><li class=md-nav__item><a href=#tcp-header-structure class=md-nav__link><span class=md-ellipsis> TCP Header Structure </span></a></li><li class=md-nav__item><a href=#tcp-flags-and-their-functions class=md-nav__link><span class=md-ellipsis> TCP Flags and Their Functions </span></a></li><li class=md-nav__item><a href=#tcp-segmentation class=md-nav__link><span class=md-ellipsis> TCP Segmentation </span></a><nav class=md-nav aria-label="TCP Segmentation"><ul class=md-nav__list><li class=md-nav__item><a href=#segmentation-example class=md-nav__link><span class=md-ellipsis> Segmentation Example </span></a></li></ul></nav></li><li class=md-nav__item><a href=#tcp-sequence-and-acknowledgment-numbers class=md-nav__link><span class=md-ellipsis> TCP Sequence and Acknowledgment Numbers </span></a><nav class=md-nav aria-label="TCP Sequence and Acknowledgment Numbers"><ul class=md-nav__list><li class=md-nav__item><a href=#sequence-number-example class=md-nav__link><span class=md-ellipsis> Sequence Number Example </span></a></li></ul></nav></li><li class=md-nav__item><a href=#tcp-connection-management class=md-nav__link><span class=md-ellipsis> TCP Connection Management </span></a><nav class=md-nav aria-label="TCP Connection Management"><ul class=md-nav__list><li class=md-nav__item><a href=#3-way-handshake class=md-nav__link><span class=md-ellipsis> 3-way Handshake </span></a></li><li class=md-nav__item><a href=#connection-termination class=md-nav__link><span class=md-ellipsis> Connection Termination </span></a></li></ul></nav></li><li class=md-nav__item><a href=#tcp-reliability-mechanisms class=md-nav__link><span class=md-ellipsis> TCP Reliability Mechanisms </span></a><nav class=md-nav aria-label="TCP Reliability Mechanisms"><ul class=md-nav__list><li class=md-nav__item><a href=#retransmission-example class=md-nav__link><span class=md-ellipsis> Retransmission Example </span></a></li></ul></nav></li></ul></nav></li><li class=md-nav__item><a href=#6-practical-application-scenarios class=md-nav__link><span class=md-ellipsis> 6. Practical Application Scenarios </span></a><nav class=md-nav aria-label="6. Practical Application Scenarios"><ul class=md-nav__list><li class=md-nav__item><a href=#when-to-use-udp-vs-tcp class=md-nav__link><span class=md-ellipsis> When to Use UDP vs TCP </span></a></li><li class=md-nav__item><a href=#performance-trade-offs class=md-nav__link><span class=md-ellipsis> Performance Trade-offs </span></a></li></ul></nav></li><li class=md-nav__item><a href=#7-key-calculations-and-examples class=md-nav__link><span class=md-ellipsis> 7. Key Calculations and Examples </span></a><nav class=md-nav aria-label="7. Key Calculations and Examples"><ul class=md-nav__list><li class=md-nav__item><a href=#checksum-calculation-concept-example class=md-nav__link><span class=md-ellipsis> Checksum Calculation (Concept Example) </span></a></li><li class=md-nav__item><a href=#sequence-number-tracking class=md-nav__link><span class=md-ellipsis> Sequence Number Tracking </span></a></li></ul></nav></li></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1 id=60-transport-layer>6.0 Transport Layer</h1><p>Open book notes for the Transport Layer section, focusing on potentially examinable material and strictly excluding Sockets, Flow Control, and Congestion Control, based on the provided sources and our conversation history.</p><h2 id=1-role-of-the-transport-layer>1. Role of the Transport Layer</h2><ul><li>The Transport Layer is responsible for providing <strong>host-to-host</strong> (or <strong>process-to-process</strong>) communication services for applications.</li><li>It sits above the Network Layer.</li><li>It manages delivery of a message from <strong>one process to another</strong>, whereas the Network layer oversees source to destination delivery.</li><li>The Transport Layer is the lowest OSI layer that has to deal with <strong>end-to-end transmission</strong>. Layers above it are also concerned with end-to-end transmission.</li></ul><h3 id=layer-responsibility-comparison>Layer Responsibility Comparison</h3><table><thead><tr><th>Layer</th><th>Primary Focus</th><th>Addressing Unit</th><th>Key Responsibility</th></tr></thead><tbody><tr><td>Network Layer</td><td>Host-to-Host</td><td>IP Address</td><td>Routing packets between hosts</td></tr><tr><td>Transport Layer</td><td>Process-to-Process</td><td>Port Number</td><td>End-to-end delivery between applications</td></tr><tr><td>Application Layer</td><td>Service-to-Service</td><td>Application Protocol</td><td>Specific application services</td></tr></tbody></table><h2 id=2-ports>2. Ports</h2><ul><li>When delivering packets, Network Layer IP addresses alone are not enough as they only address hosts, and not individual operating system processes on those hosts.</li><li>Transport protocols identify software endpoints (applications) on a host using a <strong>16-bit positive port number</strong>.</li><li>An <strong>endpoint</strong> is a combination of an IP address and a port number.</li><li>Port numbers are needed because multiple applications may be running on a host and communicating over the network simultaneously. The transport layer uses port numbers to direct incoming packets to the correct application process.</li><li>There are <strong>predefined port numbers</strong> for common applications (e.g., FTP, SSH, Telnet, SMTP, HTTP). Many of these common application protocols use TCP.</li></ul><h3 id=port-number-ranges>Port Number Ranges</h3><table><thead><tr><th>Range</th><th>Type</th><th>Usage</th><th>Examples</th></tr></thead><tbody><tr><td>0-1023</td><td>Well-known Ports</td><td>System/Reserved</td><td>HTTP(80), HTTPS(443), FTP(21), SSH(22)</td></tr><tr><td>1024-49151</td><td>Registered Ports</td><td>User applications</td><td>Custom services</td></tr><tr><td>49152-65535</td><td>Dynamic/Private</td><td>Temporary/Client</td><td>Ephemeral connections</td></tr></tbody></table><h3 id=endpoint-address-structure>Endpoint Address Structure</h3><div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>Complete Endpoint = IP Address + Port Number
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>Example: 192.168.1.100:8080
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>         ├─────────────┴─ IP Address (Host identification)
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>         └─────────────── Port Number (Process identification)
</span></code></pre></div><h2 id=3-transport-protocol-comparison-overview>3. Transport Protocol Comparison Overview</h2><p>Before diving into specific protocols, here's a fundamental comparison:</p><table><thead><tr><th>Aspect</th><th>UDP</th><th>TCP</th></tr></thead><tbody><tr><td><strong>Connection Type</strong></td><td>Connectionless</td><td>Connection-oriented</td></tr><tr><td><strong>Reliability</strong></td><td>Unreliable (Best-effort)</td><td>Reliable</td></tr><tr><td><strong>Ordering</strong></td><td>No ordering guarantee</td><td>Ordered delivery</td></tr><tr><td><strong>Header Size</strong></td><td>8 bytes</td><td>20+ bytes</td></tr><tr><td><strong>Speed</strong></td><td>Faster</td><td>Slower (due to overhead)</td></tr><tr><td><strong>Use Cases</strong></td><td>Streaming, DNS, Gaming</td><td>Web browsing, Email, File transfer</td></tr><tr><td><strong>Error Detection</strong></td><td>Basic checksum</td><td>Comprehensive error handling</td></tr><tr><td><strong>Flow Control</strong></td><td>None</td><td>Yes</td></tr><tr><td><strong>Congestion Control</strong></td><td>None</td><td>Yes</td></tr></tbody></table><h2 id=4-user-datagram-protocol-udp>4. User Datagram Protocol (UDP)</h2><h3 id=udp-properties-characteristics>UDP Properties &amp; Characteristics</h3><ul><li><strong>Properties</strong>:<ul><li><strong>Unreliable</strong>, unordered datagram service.</li><li><strong>Connectionless</strong>.</li><li><strong>Best-effort delivery</strong>. Packets may be lost, delivered out of order, duplicated, or delayed.</li><li>UDP packets are free packets once they are out, meaning they don't necessarily follow the same route and have no information about other packets in the stream.</li></ul></li></ul><ul><li><strong>Advantages</strong>:<ul><li><strong>Lightweight</strong>, low overhead.</li><li><strong>Speed</strong>: Provides faster delivery compared to protocols with more overhead.</li><li><strong>Finer control</strong> over what data is sent and when.</li><li><strong>No delay for connection establishment</strong>.</li><li><strong>No connection state</strong>: Does not allocate buffers, parameters, or sequence numbers for the connection itself.</li></ul></li></ul><ul><li><strong>Use Cases/Applications</strong>: Applications where some packet loss or reordering is acceptable, or handled by the application layer.<ul><li>Streaming media (video calls, video/music streaming).</li><li>DNS (Domain Name Service).</li><li>Network Time Protocol (NTP).</li></ul></li></ul><h3 id=udp-header-structure>UDP Header Structure</h3><div class="language-text highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>UDP Header (8 bytes total)
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>┌──────────────────┬──────────────────┐
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>│   Source Port    │ Destination Port │  (16 bits each)
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a>├──────────────────┼──────────────────┤
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>│      Length      │     Checksum     │  (16 bits each)
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>└──────────────────┴──────────────────┘
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>│                Data                 │
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>└─────────────────────────────────────┘
</span></code></pre></div><ul><li><strong>UDP Header</strong>:<ul><li><strong>Small packet header</strong>, typically 8 bytes long.</li><li>Contains fields for Source Port, Destination Port, Length, and Checksum.</li><li>The IP address information is handled at the Network (IP) layer, not in the UDP header.</li></ul></li></ul><h3 id=udp-checksum-mechanism>UDP Checksum Mechanism</h3><ul><li><strong>Checksum</strong>:<ul><li>Aids in <strong>error detection</strong> within the UDP packet.</li><li>It is <strong>optional in IPv4</strong> but <strong>mandatory in IPv6</strong>.</li><li>Calculated by adding 16-bit words of the data (including a pseudo-header derived from the IP header) using one's complement arithmetic, carrying bits over to the least significant bit, and then flipping the bits of the final sum.</li><li>It can detect any one-bit errors but not all two-bit errors. Two-bit errors where the bit flips cancel each other out during addition cannot be detected.</li><li>It checks for errors in the packet header and data.</li></ul></li></ul><h4 id=checksum-calculation-example>Checksum Calculation Example</h4><div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>Example Data: 0x4500 + 0x003C + 0x1C46 = 0x7C82
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>One&#39;s Complement: ~0x7C82 = 0x837D
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>Final Checksum: 0x837D
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>Error Detection Capability:
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>✓ Single bit errors: Always detected
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>✗ Some double bit errors: May not be detected if they cancel out
</span></code></pre></div><h3 id=udp-limitations>UDP Limitations</h3><ul><li><strong>Problems with UDP</strong>:<ul><li>Due to potentially taking different routes, packets can have <strong>varying round-trip times</strong> and there is <strong>no guarantee of packet ordering</strong>.</li><li>These problems mean the <strong>application layer</strong> is often responsible for handling packet ordering and recovery if needed.</li></ul></li></ul><h3 id=udp-communication-flow>UDP Communication Flow</h3><div class="language-text highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>Client                    Server
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>  │                         │
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>  │──── UDP Packet 1 ──────→│  (No connection setup)
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>  │──── UDP Packet 2 ──────→│  (Independent packets)
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>  │──── UDP Packet 3 ──────→│  (May arrive out of order)
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>  │                         │
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>  │←──── Response ─────────│  (Optional, application-dependent)
</span></code></pre></div><h2 id=5-transmission-control-protocol-tcp>5. Transmission Control Protocol (TCP)</h2><h3 id=tcp-properties-guarantees>TCP Properties &amp; Guarantees</h3><ul><li><strong>Role/Properties/Guarantees</strong>:<ul><li>Provides a <strong>reliable</strong> end-to-end service.</li><li><strong>Connection-oriented</strong>: A logical connection is established and maintained between sender and receiver before data transfer begins and until terminated.</li><li><strong>Full-duplex</strong>: Data can be transmitted in both directions simultaneously.</li><li><strong>Point-to-point communication</strong>: Only two parties are connected at a time.</li><li><strong>Stream interface</strong>: Presents a reliable frame stream to the network layer.</li><li><strong>Graceful connection shutdown</strong>.</li><li><strong>Guarantees</strong>: Guaranteed delivery, in-order delivery, unique delivery (no duplicates).</li></ul></li></ul><ul><li><strong>Advantages</strong>: Reliability, suitability for applications requiring accurate data transfer like file transfer and email.</li><li><strong>Applications</strong>: Most widely used protocol, likely implemented by almost any application using the internet. Examples include FTP, SSH, Telnet, SMTP, HTTP/HTTPS, file transfer, email.</li></ul><h3 id=tcp-header-structure>TCP Header Structure</h3><div class="language-text highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a>TCP Header (20+ bytes)
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>┌────────────────┬────────────────┬─────────────────┬─────────────────┐
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>│  Source Port   │ Destination Port│  Sequence Number (32 bits)      │
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a>├────────────────┼────────────────┼─────────────────┼─────────────────┤
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>│     Acknowledgement Number (32 bits)           │Data│Res│  Flags  │
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>├─────────────────────────────────────────────────┤Off │   │U A P R S F│
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>│           Window Size          │   Checksum     │set │   │R C S S Y I│
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>├────────────────────────────────┼────────────────┤    │   │G K H T N N│
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>│        Urgent Pointer          │   Options...   │    │   │         │
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>└────────────────────────────────┴────────────────┴────┴───┴─────────┘
</span></code></pre></div><ul><li><strong>TCP Header</strong>:<ul><li>Requires more information than UDP.</li><li>Typically <strong>20 bytes long</strong>, plus optional fields and padding.</li><li>Contains fields for Source Port, Destination Port, Sequence Number, Acknowledgement Number, Data offset, Reserved, Flags (URG, ACK, PSH, RST, SYN, FIN), Window, Checksum, Urgent Pointer, Options, Padding.</li></ul></li></ul><h3 id=tcp-flags-and-their-functions>TCP Flags and Their Functions</h3><table><thead><tr><th>Flag</th><th>Name</th><th>Purpose</th><th>Usage</th></tr></thead><tbody><tr><td>SYN</td><td>Synchronize</td><td>Establish connection</td><td>Connection initiation</td></tr><tr><td>ACK</td><td>Acknowledge</td><td>Confirm receipt</td><td>Data acknowledgment</td></tr><tr><td>FIN</td><td>Finish</td><td>Terminate connection</td><td>Connection closure</td></tr><tr><td>RST</td><td>Reset</td><td>Abort connection</td><td>Error/rejection</td></tr><tr><td>PSH</td><td>Push</td><td>Immediate delivery</td><td>Priority data</td></tr><tr><td>URG</td><td>Urgent</td><td>Urgent data pointer</td><td>Emergency data</td></tr></tbody></table><h3 id=tcp-segmentation>TCP Segmentation</h3><ul><li><strong>Segments</strong>:<ul><li>TCP divides application data into <strong>segments</strong> for transmission. This is necessary as application messages may be larger than the Maximum Segment Size (MSS).</li><li>A segment is sent when it is full (MSS reached), times out, or is pushed by the application.</li><li>MSS is typically up to about 1460 bytes.</li></ul></li></ul><h4 id=segmentation-example>Segmentation Example</h4><div class="language-text highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>Application Data (5000 bytes)
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>┌─────────────────────────────────────────────────────────┐
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>│                    Large Message                        │
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>└─────────────────────────────────────────────────────────┘
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>                            ↓ TCP Segmentation
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>┌────────────┬────────────┬────────────┬────────────┐
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>│ Segment 1  │ Segment 2  │ Segment 3  │ Segment 4  │
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>│ (1460 bytes│ (1460 bytes│ (1460 bytes│ (620 bytes)│
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>└────────────┴────────────┴────────────┴────────────┘
</span></code></pre></div><h3 id=tcp-sequence-and-acknowledgment-numbers>TCP Sequence and Acknowledgment Numbers</h3><ul><li><strong>Sequence Numbers</strong>:<ul><li>Used for <strong>ordering segments</strong> to allow for reassembly at the receiver in the correct order.</li><li>Necessary because TCP segments may arrive out of order when traveling through the network.</li></ul></li></ul><ul><li><strong>Acknowledgement Numbers</strong>:<ul><li>Used to <strong>confirm received bytes</strong> or sequence numbers to the sender.</li><li>The receiver sends an acknowledgement number indicating the sequence number of the next byte it expects to receive.</li></ul></li></ul><h4 id=sequence-number-example>Sequence Number Example</h4><div class="language-text highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>Sender                           Receiver
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>  │                               │
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>  │─── Seq=1000, Len=100 ───────→│ (Bytes 1000-1099)
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>  │                               │
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>  │←────── ACK=1100 ─────────────│ (Expecting byte 1100)
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>  │                               │
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>  │─── Seq=1100, Len=200 ───────→│ (Bytes 1100-1299)
</span><span id=__span-6-8><a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>  │                               │
</span><span id=__span-6-9><a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>  │←────── ACK=1300 ─────────────│ (Expecting byte 1300)
</span></code></pre></div><h3 id=tcp-connection-management>TCP Connection Management</h3><h4 id=3-way-handshake>3-way Handshake</h4><ul><li><strong>3-way Handshake</strong>:<ul><li>Process used to <strong>establish a TCP connection</strong>.</li><li>Involves three packets: Sender sends a <strong>SYN</strong> segment (SYN flag set), Receiver replies with a <strong>SYN-ACK</strong> segment (SYN and ACK flags set), Sender acknowledges with an <strong>ACK</strong> segment (ACK flag set).</li><li>Purpose: To synchronize sequence numbers and ensure both parties are aware that the connection is established and two-way communication is possible.</li><li>If the initial SYN or the SYN-ACK is lost, the sender will timeout and can retry the connection.</li></ul></li></ul><div class="language-text highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>Client                    Server
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>  │                         │
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>  │────── SYN ─────────────→│  Step 1: Connection request
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>  │                         │
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>  │←───── SYN-ACK ─────────│  Step 2: Acknowledgment + request
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>  │                         │
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>  │────── ACK ─────────────→│  Step 3: Final acknowledgment
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>  │                         │
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>  │      CONNECTED          │  Connection established
</span></code></pre></div><ul><li><strong>Reset (RST) flag</strong>: Can be sent if the receiver is not working, not expecting a connection, or too busy to accept the SYN packet.</li><li><strong>FIN flag</strong>: Used to <strong>terminate a TCP connection</strong>. Indicates the last packet from the sender.</li></ul><h4 id=connection-termination>Connection Termination</h4><ul><li><strong>Graceful Connection Shutdown</strong>:<ul><li>TCP guarantees a graceful connection shutdown.</li><li>This is implemented using a sequence of FIN and ACK flags, allowing both sides to finish sending data before the connection is fully closed. A typical sequence involves one side sending FIN, the other acknowledging with FIN-ACK, and then the first side sending ACK. There are variations.</li><li>This system could fail under conditions such as connection disruption (e.g., due to interference or cable being pulled out), which would cause a timeout.</li></ul></li></ul><div class="language-text highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>Client                    Server
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>  │                         │
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>  │────── FIN ─────────────→│  Step 1: Client wants to close
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>  │                         │
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>  │←───── ACK ─────────────│  Step 2: Server acknowledges
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>  │                         │
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>  │←───── FIN ─────────────│  Step 3: Server wants to close
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>  │                         │
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>  │────── ACK ─────────────→│  Step 4: Client acknowledges
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>  │                         │
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>  │      CLOSED             │  Connection terminated
</span></code></pre></div><h3 id=tcp-reliability-mechanisms>TCP Reliability Mechanisms</h3><ul><li><strong>Retransmission</strong>:<ul><li>Retransmission is regularly used in TCP.</li><li>It occurs if a segment is lost or arrives out of order.</li><li>The sender typically sets a timer after sending a segment. If an acknowledgement is not received within the timeout period, the segment is retransmitted.</li><li>The <strong>Stop-and-Wait ARQ</strong> protocol is a simple example where the sender sends one packet and waits for an ACK before sending the next.</li></ul></li></ul><h4 id=retransmission-example>Retransmission Example</h4><div class="language-text highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>Sender                     Receiver
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>  │                         │
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>  │─── Segment 1 ──────────→│  ✓ Received
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>  │                         │
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>  │←────── ACK ─────────────│
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>  │                         │
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>  │─── Segment 2 ──────────→│  ✗ Lost in network
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>  │                         │
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>  │        TIMEOUT          │
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>  │                         │
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>  │─── Segment 2 ──────────→│  ✓ Retransmitted &amp; received
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>  │                         │
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>  │←────── ACK ─────────────│
</span></code></pre></div><h2 id=6-practical-application-scenarios>6. Practical Application Scenarios</h2><h3 id=when-to-use-udp-vs-tcp>When to Use UDP vs TCP</h3><table><thead><tr><th>Scenario</th><th>Protocol Choice</th><th>Justification</th></tr></thead><tbody><tr><td>Video Streaming</td><td>UDP</td><td>Speed over reliability; lost frames acceptable</td></tr><tr><td>Web Browsing</td><td>TCP</td><td>Complete data transfer required</td></tr><tr><td>Online Gaming</td><td>UDP</td><td>Low latency critical; some packet loss tolerable</td></tr><tr><td>Email</td><td>TCP</td><td>Message integrity essential</td></tr><tr><td>DNS Queries</td><td>UDP</td><td>Simple request-response; retry if needed</td></tr><tr><td>File Transfer</td><td>TCP</td><td>Data integrity and completeness required</td></tr></tbody></table><h3 id=performance-trade-offs>Performance Trade-offs</h3><div class="language-text highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>Performance Comparison
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>                TCP                     UDP
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>Reliability:    ████████████           ██
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>Speed:          ███████                ████████████
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>Overhead:       ████████████           ██
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>Complexity:     ████████████           ███
</span></code></pre></div><h2 id=7-key-calculations-and-examples>7. Key Calculations and Examples</h2><h3 id=checksum-calculation-concept-example>Checksum Calculation (Concept Example)</h3><p>For UDP/TCP checksum verification:</p><div class="language-text highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>Given data words: 0x4500, 0x003C, 0x1C46, 0x4000, 0x4011
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>Step 1: Sum all 16-bit words
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>0x4500 + 0x003C + 0x1C46 + 0x4000 + 0x4011 = 0x01B593
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>Step 2: Add carry bits
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>0x01B5 + 0x93 = 0x0248
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>Step 3: One&#39;s complement
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>~0x0248 = 0xFDB7
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>Checksum = 0xFDB7
</span></code></pre></div><h3 id=sequence-number-tracking>Sequence Number Tracking</h3><div class="language-text highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>Initial Sequence Number (ISN): 1000
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>Data sent: &quot;Hello World&quot; (11 bytes)
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>Segment 1: Seq=1000, Data=&quot;Hello&quot;, Len=5
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>Segment 2: Seq=1005, Data=&quot; World&quot;, Len=6
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>Expected ACK after Segment 1: 1005
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>Expected ACK after Segment 2: 1011
</span></code></pre></div><p>This comprehensive visualization and organization helps understand the relationships between transport layer concepts while maintaining all original knowledge points with enhanced clarity and practical examples.</p></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div><button type=button class="md-top md-icon" data-md-component=top hidden><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> 回到页面顶部 </button></main><footer class=md-footer><nav class="md-footer__inner md-grid" aria-label=页脚><a href=../w5/ class="md-footer__link md-footer__link--prev" aria-label="上一页: 5.0 Network Layer"><div class="md-footer__button md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg></div><div class=md-footer__title><span class=md-footer__direction> 上一页 </span><div class=md-ellipsis> 5.0 Network Layer </div></div></a><a href=../w7/ class="md-footer__link md-footer__link--next" aria-label="下一页: 7.0 Presentation Layers"><div class=md-footer__title><span class=md-footer__direction> 下一页 </span><div class=md-ellipsis> 7.0 Presentation Layers </div></div><div class="md-footer__button md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg></div></a></nav><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><div class=md-progress data-md-component=progress role=progressbar></div><script id=__config type=application/json>{"base": "../../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "content.code.annotate", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script><script src=../../../assets/javascripts/bundle.c8b220af.min.js></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js></script><script src=../../../resources/katex.min.js></script></body></html>